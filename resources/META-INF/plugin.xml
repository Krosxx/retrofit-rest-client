<idea-plugin>
    <id>cn.vove7.ide.plugin.rest</id>
    <name>Retrofit Rest Client 2.0</name>
    <version>2.1.3</version>
    <vendor email="vove7@qq.com" url="https://github.com/Vove7/retrofit-rest-client">Vove7</vendor>

    <description><![CDATA[
<p> <a href="https://github.com/Vove7/retrofit-rest-client">Github Repository</a>.</p></p>
<p>  > The best http client for Android Studio.</p>
<p> This plugin is base on <a href="https://github.com/danblack/idea-rest-client">idea-rest-client</a>.</p>
<ul>
<li><strong>Support run retrofit api interface functions directly.</strong></li>
<li>Supports GET, POST, PUT, DELETE, PATCH requests</li>
<li>Multiline request parameters</li>
<li>Rest file type support</li>
<li>Internally supported dynamic parameters</li>
<li>Response auto format (based on response Content-Type header)</li>
<li>Customized colors and fonts</li>
<li>Customized keyboard shortcuts</li>
<li>Comments</li>
</ul>
<h3><a id="user-content-preview" class="anchor" aria-hidden="true" href="#preview"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Preview</h3>
<ul>
<li>Rest file</li>
</ul>
<p>You can create<code>rest</code> file to edit.</p>
<p>Content structure</p>
<p><a target="_blank" rel="noopener noreferrer" href="/Vove7/retrofit-rest-client/blob/master/pic/s1.png"><img src="https://github.com//Vove7/retrofit-rest-client/raw/master/pic/s1.png" alt="PreView" style="max-width:100%;"></a></p>
<ul>
<li>Gif</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="/Vove7/retrofit-rest-client/blob/master/pic/GIF.gif"><img src="https://github.com//Vove7/retrofit-rest-client/raw/master/pic/GIF.gif" alt="" style="max-width:100%;"></a></p>
<h3><a id="user-content-demo" class="anchor" aria-hidden="true" href="#demo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Demo</h3>
<ul>
<li>GET</li>
</ul>
<div class="highlight highlight-text-restructuredtext"><pre>GET
{BASE_URL}/get
# query params
&amp;id=1
&amp;type=2

# headers
@Content-Type: application/json
@timestamp: {TS_SEC} # </pre></div>
<ul>
<li>
<p>POST</p>
<ul>
<li>Json</li>
</ul>
<p>Apponit content-type: <code>@Content-Type: application/json</code></p>
<div class="highlight highlight-text-restructuredtext"><pre>POST
{BASE_URL}/post_json

# request headers
@Content-Type: application/json

# request body
{"a":"{a}","b":"{b}"}</pre></div>
<ul>
<li>Form</li>
</ul>
<p>Apponit content-type: <code>@Content-Type: application/x-www-form-urlencoded</code>, and last line is form data(can be multiple line)</p>
<div class="highlight highlight-text-restructuredtext"><pre>POST
{BASE_URL}/post_form/{user_id}

# Headers:
@Content-Type: application/x-www-form-urlencoded

# Form data separate with '&amp;'
id=1&amp;s=hello

# also can be:
&amp;id=1
&amp;s=hello</pre></div>
</li>
</ul>
<h3><a id="user-content-set-env-params" class="anchor" aria-hidden="true" href="#set-env-params"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set env params</h3>
<p>You can use <code>{name}</code> to reference env variable.</p>
<ol>
<li>To create json file <code>{PROJECT_DIR}/rest-client/rest_env.json</code></li>
</ol>
<div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>: {
    <span class="pl-s"><span class="pl-pds">"</span>BASE_URL<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>http://localhost/test<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>user_id<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>
  },
  <span class="pl-s"><span class="pl-pds">"</span>dev<span class="pl-pds">"</span></span>: {
    <span class="pl-s"><span class="pl-pds">"</span>BASE_URL<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>http://localhost/dev<span class="pl-pds">"</span></span>
  }
}</pre></div>
<ol start="2">
<li>chose env to tun</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com//Vove7/retrofit-rest-client/blob/master/pic/s2.png"><img src="https://github.com//Vove7/retrofit-rest-client/raw/master/pic/s2.png" alt="" style="max-width:100%;"></a></p>
<h3><a id="user-content-install" class="anchor" aria-hidden="true" href="#install"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install</h3>
<p>TODO</p>
<h3><a id="user-content-thanks" class="anchor" aria-hidden="true" href="#thanks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Thanks</h3>
<p>This plugin is base on <a href="https://github.com/danblack/idea-rest-client">idea-rest-client</a>.</p>
<h3><a id="user-content-todo" class="anchor" aria-hidden="true" href="#todo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TODO</h3>
<ul>
<li>
<p>Multiple requests in one file. [like http client]</p>
</li>
<li>
<p>Response result output tu run window.  [like http client]</p>
</li>
</ul>
]]></description>

    <change-notes><![CDATA[
    1. Support post form data
    2. Support Quick Run Retrofit Api
    3. Support api method annotation @Headers(...)
    4. Auto create rest_env.json
    ]]>
    </change-notes>

    <idea-version since-build="182.0" />

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.intellij.modules.lang</depends>
    -->

    <application-components>
        <component>
            <implementation-class>cn.vove7.plugin.rest.filetype.RestClientPlugin
            </implementation-class>
        </component>
    </application-components>

    <project-components>
        <component>
            <implementation-class>cn.vove7.plugin.rest.filetype.RestProjectComponent
            </implementation-class>
        </component>
    </project-components>

    <extensions defaultExtensionNs="com.intellij">
        <codeInsight.lineMarkerProvider language="JAVA"
            implementationClass="cn.vove7.plugin.rest.lineprovider.RetrofitLineJavaMarkerProvider" />

        <codeInsight.lineMarkerProvider language="kotlin"
            implementationClass="cn.vove7.plugin.rest.lineprovider.RetrofitLineKotlinMarkerProvider" />

        <fileTypeFactory implementation="cn.vove7.plugin.rest.filetype.RestFileTypeFactory" />
        <lang.parserDefinition language="Rest"
            implementationClass="cn.vove7.plugin.rest.filetype.RestParserDefinition" />
        <lang.syntaxHighlighterFactory language="Rest"
            implementationClass="cn.vove7.plugin.rest.filetype.RestHighlighterFactory" />
        <multiHostInjector implementation="cn.vove7.plugin.rest.filetype.RestHostInjector" />
        <additionalTextAttributes file="META-INF/schema.xml" scheme="Default" />

        <colorSettingsPage implementation="cn.vove7.plugin.rest.filetype.RestColorSettingsPage" />

        <lang.commenter language="Rest"
            implementationClass="cn.vove7.plugin.rest.filetype.RestCommenter" />
    </extensions>


    <actions>
        <action class="cn.vove7.plugin.rest.action.RunAction" id="rest.action.run"
            text="Run Rest Request">
            <keyboard-shortcut first-keystroke="meta ENTER" keymap="$default" />
        </action>
    </actions>

    <actions>
        <action class="cn.vove7.plugin.rest.action.StopAction" id="rest.action.stop"
            text="Stop Rest Request">
            <keyboard-shortcut first-keystroke="meta F2" keymap="$default" />
        </action>
    </actions>

    <depends>org.jetbrains.kotlin</depends>
    <depends>com.intellij.modules.java</depends>
</idea-plugin>